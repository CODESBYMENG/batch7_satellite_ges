---

title: Title

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/show_map.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path_plants</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/dataforgoodfr/batch7_satellite_ges/master/dataset/CO2_emissions_centrale.csv&quot;</span>

<span class="n">plants</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path_plants</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plants</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_long</th>
      <th>capacity_mw</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>primary_fuel</th>
      <th>generation_gwh_2013</th>
      <th>generation_gwh_2014</th>
      <th>generation_gwh_2015</th>
      <th>generation_gwh_2016</th>
      <th>generation_gwh_2017</th>
      <th>estimated_generation_gwh</th>
      <th>gCO2/KWh</th>
      <th>generation_gwh_2017_with_estimated_data</th>
      <th>tCO2_emitted_in_2013</th>
      <th>tCO2_emitted_in_2014</th>
      <th>tCO2_emitted_in_2015</th>
      <th>tCO2_emitted_in_2016</th>
      <th>tCO2_emitted_in_2017</th>
      <th>tCO2_emitted_in_2017_with estimated_data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Afghanistan</td>
      <td>42.0</td>
      <td>34.5638</td>
      <td>69.1134</td>
      <td>Gas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>443</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Algeria</td>
      <td>520.0</td>
      <td>35.8665</td>
      <td>6.0262</td>
      <td>Gas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2152.249819</td>
      <td>443</td>
      <td>2152.249819</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>9.534467e+05</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Algeria</td>
      <td>71.0</td>
      <td>36.8924</td>
      <td>7.7634</td>
      <td>Gas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>293.864879</td>
      <td>443</td>
      <td>293.864879</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.301821e+05</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Algeria</td>
      <td>560.0</td>
      <td>36.5988</td>
      <td>3.1375</td>
      <td>Gas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2317.807497</td>
      <td>443</td>
      <td>2317.807497</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.026789e+06</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Algeria</td>
      <td>100.0</td>
      <td>36.5914</td>
      <td>2.9223</td>
      <td>Gas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>413.894196</td>
      <td>443</td>
      <td>413.894196</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.833551e+05</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://courty.fr/OCO2/result_for_oco2_1808.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>orbit</th>
      <th>slope</th>
      <th>intercept</th>
      <th>amplitude</th>
      <th>sigma</th>
      <th>delta</th>
      <th>R</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018080101035604</td>
      <td>25.425072</td>
      <td>-177.345490</td>
      <td>21709</td>
      <td>0.000430</td>
      <td>404.902899</td>
      <td>-14.694226</td>
      <td>-3.987167</td>
      <td>1.470254</td>
      <td>0.677812</td>
      <td>-7.759225</td>
      <td>-0.739198</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018080101060803</td>
      <td>32.777554</td>
      <td>-179.428162</td>
      <td>21709</td>
      <td>0.002886</td>
      <td>404.622407</td>
      <td>1.493849</td>
      <td>7.887665</td>
      <td>0.075556</td>
      <td>0.532213</td>
      <td>-5.420354</td>
      <td>-0.992332</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018080101062035</td>
      <td>33.441360</td>
      <td>-179.630508</td>
      <td>21709</td>
      <td>-0.002734</td>
      <td>404.470875</td>
      <td>18.128640</td>
      <td>3.086571</td>
      <td>2.343144</td>
      <td>-0.656713</td>
      <td>-4.649583</td>
      <td>-0.913302</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018080101062937</td>
      <td>33.919857</td>
      <td>-179.779083</td>
      <td>21709</td>
      <td>-0.006755</td>
      <td>404.416030</td>
      <td>-11.847855</td>
      <td>-3.346435</td>
      <td>1.412432</td>
      <td>0.592854</td>
      <td>-4.035365</td>
      <td>-0.879741</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018080102530302</td>
      <td>58.858116</td>
      <td>143.781662</td>
      <td>21710</td>
      <td>0.003719</td>
      <td>399.445056</td>
      <td>-0.018193</td>
      <td>-5.552475</td>
      <td>0.001307</td>
      <td>0.730703</td>
      <td>-3.837832</td>
      <td>0.812698</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We spot some negative sigma and amplitude parameters.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sigma&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sigma&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">abs</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;amplitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;amplitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">abs</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>orbit</th>
      <th>slope</th>
      <th>intercept</th>
      <th>amplitude</th>
      <th>sigma</th>
      <th>delta</th>
      <th>R</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018080101035604</td>
      <td>25.425072</td>
      <td>-177.345490</td>
      <td>21709</td>
      <td>0.000430</td>
      <td>404.902899</td>
      <td>14.694226</td>
      <td>3.987167</td>
      <td>1.470254</td>
      <td>0.677812</td>
      <td>-7.759225</td>
      <td>-0.739198</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018080101060803</td>
      <td>32.777554</td>
      <td>-179.428162</td>
      <td>21709</td>
      <td>0.002886</td>
      <td>404.622407</td>
      <td>1.493849</td>
      <td>7.887665</td>
      <td>0.075556</td>
      <td>0.532213</td>
      <td>-5.420354</td>
      <td>-0.992332</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018080101062035</td>
      <td>33.441360</td>
      <td>-179.630508</td>
      <td>21709</td>
      <td>-0.002734</td>
      <td>404.470875</td>
      <td>18.128640</td>
      <td>3.086571</td>
      <td>2.343144</td>
      <td>-0.656713</td>
      <td>-4.649583</td>
      <td>-0.913302</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018080101062937</td>
      <td>33.919857</td>
      <td>-179.779083</td>
      <td>21709</td>
      <td>-0.006755</td>
      <td>404.416030</td>
      <td>11.847855</td>
      <td>3.346435</td>
      <td>1.412432</td>
      <td>0.592854</td>
      <td>-4.035365</td>
      <td>-0.879741</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018080102530302</td>
      <td>58.858116</td>
      <td>143.781662</td>
      <td>21710</td>
      <td>0.003719</td>
      <td>399.445056</td>
      <td>0.018193</td>
      <td>5.552475</td>
      <td>0.001307</td>
      <td>0.730703</td>
      <td>-3.837832</td>
      <td>0.812698</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2018080104244674</td>
      <td>35.680077</td>
      <td>130.219467</td>
      <td>21711</td>
      <td>-0.004196</td>
      <td>405.367275</td>
      <td>9.859749</td>
      <td>24.716153</td>
      <td>0.159146</td>
      <td>0.577045</td>
      <td>-2.515345</td>
      <td>-1.818006</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2018080104244836</td>
      <td>35.752354</td>
      <td>130.197632</td>
      <td>21711</td>
      <td>-0.004529</td>
      <td>405.341883</td>
      <td>7.635088</td>
      <td>6.525770</td>
      <td>0.466759</td>
      <td>0.511861</td>
      <td>-2.536525</td>
      <td>-1.833167</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2018080104244906</td>
      <td>35.789249</td>
      <td>130.185776</td>
      <td>21711</td>
      <td>-0.004221</td>
      <td>405.311837</td>
      <td>7.751707</td>
      <td>9.587837</td>
      <td>0.322542</td>
      <td>0.533806</td>
      <td>-2.545387</td>
      <td>-1.840344</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2018080104244976</td>
      <td>35.826172</td>
      <td>130.173950</td>
      <td>21711</td>
      <td>-0.003825</td>
      <td>405.271937</td>
      <td>9.293184</td>
      <td>16.454924</td>
      <td>0.225309</td>
      <td>0.514400</td>
      <td>-2.552335</td>
      <td>-1.846606</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2018080104245173</td>
      <td>35.966625</td>
      <td>130.125778</td>
      <td>21711</td>
      <td>-0.004961</td>
      <td>405.187786</td>
      <td>8.763453</td>
      <td>17.915269</td>
      <td>0.195147</td>
      <td>0.616669</td>
      <td>-2.563400</td>
      <td>-1.864844</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2018080104245475</td>
      <td>36.112236</td>
      <td>130.080261</td>
      <td>21711</td>
      <td>-0.005632</td>
      <td>405.134489</td>
      <td>5.867463</td>
      <td>20.226835</td>
      <td>0.115726</td>
      <td>0.714837</td>
      <td>-2.452534</td>
      <td>-1.691839</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2018080104245535</td>
      <td>36.149014</td>
      <td>130.068329</td>
      <td>21711</td>
      <td>-0.006073</td>
      <td>405.120973</td>
      <td>5.166552</td>
      <td>11.382239</td>
      <td>0.181085</td>
      <td>0.597837</td>
      <td>-2.414776</td>
      <td>-1.631612</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2018080104245738</td>
      <td>36.229542</td>
      <td>130.045258</td>
      <td>21711</td>
      <td>-0.006534</td>
      <td>405.086223</td>
      <td>3.223339</td>
      <td>12.760039</td>
      <td>0.100778</td>
      <td>0.614451</td>
      <td>-2.327447</td>
      <td>-1.493044</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2018080104245808</td>
      <td>36.266342</td>
      <td>130.033279</td>
      <td>21711</td>
      <td>-0.006272</td>
      <td>405.075965</td>
      <td>1.815272</td>
      <td>10.704547</td>
      <td>0.067652</td>
      <td>0.518306</td>
      <td>-2.286112</td>
      <td>-1.427738</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2018080104245938</td>
      <td>36.339977</td>
      <td>130.009537</td>
      <td>21711</td>
      <td>-0.006359</td>
      <td>405.045625</td>
      <td>0.299730</td>
      <td>10.148986</td>
      <td>0.011782</td>
      <td>0.527084</td>
      <td>-2.199892</td>
      <td>-1.292075</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>orbit</th>
      <th>slope</th>
      <th>intercept</th>
      <th>amplitude</th>
      <th>sigma</th>
      <th>delta</th>
      <th>R</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2.739000e+03</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
      <td>2739.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2.018082e+15</td>
      <td>20.739139</td>
      <td>-2.252285</td>
      <td>21942.401241</td>
      <td>-0.001466</td>
      <td>404.197221</td>
      <td>15.786950</td>
      <td>16.531691</td>
      <td>0.404124</td>
      <td>0.573809</td>
      <td>-1.178559</td>
      <td>-0.315456</td>
    </tr>
    <tr>
      <th>std</th>
      <td>9.332131e+08</td>
      <td>26.381097</td>
      <td>105.746297</td>
      <td>135.804701</td>
      <td>0.006618</td>
      <td>1.975166</td>
      <td>16.314918</td>
      <td>6.898671</td>
      <td>0.443052</td>
      <td>0.193246</td>
      <td>4.447457</td>
      <td>3.729918</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2.018080e+15</td>
      <td>-40.021149</td>
      <td>-179.779083</td>
      <td>21709.000000</td>
      <td>-0.031395</td>
      <td>398.082968</td>
      <td>0.003036</td>
      <td>2.027053</td>
      <td>0.000341</td>
      <td>-0.772979</td>
      <td>-9.672325</td>
      <td>-9.554490</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2.018081e+15</td>
      <td>-3.200449</td>
      <td>-111.344830</td>
      <td>21809.500000</td>
      <td>-0.006007</td>
      <td>402.793939</td>
      <td>5.257624</td>
      <td>11.223499</td>
      <td>0.150471</td>
      <td>0.531893</td>
      <td>-4.771674</td>
      <td>-3.273640</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2.018082e+15</td>
      <td>29.949741</td>
      <td>17.073837</td>
      <td>21957.000000</td>
      <td>-0.002799</td>
      <td>404.515498</td>
      <td>11.753573</td>
      <td>15.898313</td>
      <td>0.289059</td>
      <td>0.575454</td>
      <td>-1.931059</td>
      <td>-0.296885</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2.018083e+15</td>
      <td>40.669176</td>
      <td>70.918045</td>
      <td>22061.000000</td>
      <td>0.003888</td>
      <td>405.924259</td>
      <td>20.856496</td>
      <td>21.194157</td>
      <td>0.498587</td>
      <td>0.645554</td>
      <td>2.321920</td>
      <td>2.921310</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2.018083e+15</td>
      <td>72.424393</td>
      <td>179.568573</td>
      <td>22159.000000</td>
      <td>0.025194</td>
      <td>408.913894</td>
      <td>162.436539</td>
      <td>33.249874</td>
      <td>5.603435</td>
      <td>0.899008</td>
      <td>13.551064</td>
      <td>11.974917</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To convert the  <code>sounding_id</code> into a datetime variable <code>data</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="k">def</span> <span class="nf">to_date</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">%H%M%S</span><span class="si">%f</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sounding_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">to_date</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>orbit</th>
      <th>slope</th>
      <th>intercept</th>
      <th>amplitude</th>
      <th>sigma</th>
      <th>delta</th>
      <th>R</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018080101035604</td>
      <td>25.425072</td>
      <td>-177.345490</td>
      <td>21709</td>
      <td>0.000430</td>
      <td>404.902899</td>
      <td>14.694226</td>
      <td>3.987167</td>
      <td>1.470254</td>
      <td>0.677812</td>
      <td>-7.759225</td>
      <td>-0.739198</td>
      <td>2018-08-01 01:03:56.040</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2018080101060803</td>
      <td>32.777554</td>
      <td>-179.428162</td>
      <td>21709</td>
      <td>0.002886</td>
      <td>404.622407</td>
      <td>1.493849</td>
      <td>7.887665</td>
      <td>0.075556</td>
      <td>0.532213</td>
      <td>-5.420354</td>
      <td>-0.992332</td>
      <td>2018-08-01 01:06:08.030</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2018080101062035</td>
      <td>33.441360</td>
      <td>-179.630508</td>
      <td>21709</td>
      <td>-0.002734</td>
      <td>404.470875</td>
      <td>18.128640</td>
      <td>3.086571</td>
      <td>2.343144</td>
      <td>-0.656713</td>
      <td>-4.649583</td>
      <td>-0.913302</td>
      <td>2018-08-01 01:06:20.350</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018080101062937</td>
      <td>33.919857</td>
      <td>-179.779083</td>
      <td>21709</td>
      <td>-0.006755</td>
      <td>404.416030</td>
      <td>11.847855</td>
      <td>3.346435</td>
      <td>1.412432</td>
      <td>0.592854</td>
      <td>-4.035365</td>
      <td>-0.879741</td>
      <td>2018-08-01 01:06:29.370</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2018080102530302</td>
      <td>58.858116</td>
      <td>143.781662</td>
      <td>21710</td>
      <td>0.003719</td>
      <td>399.445056</td>
      <td>0.018193</td>
      <td>5.552475</td>
      <td>0.001307</td>
      <td>0.730703</td>
      <td>-3.837832</td>
      <td>0.812698</td>
      <td>2018-08-01 02:53:03.020</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#!pip install folium</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">folium</span>
<span class="n">peaks_and_plants_dark</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">([</span><span class="mi">43</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;CartoDB dark_matter&quot;</span><span class="p">)</span>
<span class="n">input_dir</span> <span class="o">=</span> <span class="s1">&#39;http://courty.fr/OCO2/&#39;</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">plants</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#3186CC&quot;</span> <span class="c1"># blue</span>
    <span class="n">tooltip</span> <span class="o">=</span>  <span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot; ; &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot;]&quot;</span>
    <span class="n">emit</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;estimated_generation_gwh&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">popup_html</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;&lt;h4&gt;&quot;&quot;&quot;</span><span class="o">+</span><span class="n">tooltip</span><span class="o">+</span><span class="s2">&quot;&quot;&quot;&lt;/h4&gt;&quot;&quot;&quot;</span><span class="o">+</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;country_long&#39;</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;&quot;&quot;&lt;p&gt;Emission 2018 (est): &quot;&quot;&quot;</span><span class="o">+</span><span class="n">emit</span><span class="o">+</span><span class="s2">&quot;&quot;&quot; GWh&lt;/p&gt;&quot;&quot;&quot;</span>

    <span class="n">popup</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">popup_html</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">450</span><span class="p">)</span>

    <span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">],</span>
                                  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]),</span>
                        <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                        <span class="n">tooltip</span><span class="o">=</span><span class="n">tooltip</span><span class="p">,</span>
                        <span class="n">popup</span><span class="o">=</span><span class="n">popup</span><span class="p">,</span>
                        <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">peaks_and_plants_dark</span><span class="p">)</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
<span class="c1">#     if index&gt; 300:</span>
<span class="c1">#         break</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;amplitude&quot;</span><span class="p">]</span><span class="o">/</span><span class="mi">20</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#E37222&quot;</span> <span class="c1"># tangerine</span>
    <span class="n">tooltip</span> <span class="o">=</span>  <span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot; ; &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot;]&quot;</span>
    <span class="n">sounding</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sounding_id&#39;</span><span class="p">])</span>
    <span class="n">date</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
    <span class="n">orbit</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;orbit&#39;</span><span class="p">])</span>
    
    
    <span class="n">url</span> <span class="o">=</span> <span class="n">input_dir</span> <span class="o">+</span> <span class="s2">&quot;peak_data-si_&quot;</span><span class="o">+</span><span class="n">sounding</span><span class="o">+</span><span class="s2">&quot;.json&quot;</span>
    
    <span class="n">popup_html</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;&lt;h4&gt;</span><span class="si">{</span><span class="n">tooltip</span><span class="si">}</span><span class="s1">&lt;/h4&gt;</span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s1">&lt;p&gt;sounding_id: </span><span class="si">{</span><span class="n">sounding</span><span class="si">}</span><span class="s1">&lt;/br&gt;orbit: </span><span class="si">{</span><span class="n">orbit</span><span class="si">}</span><span class="s1">&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">&quot; target=&quot;_new&quot;&gt;Raw data&lt;/a&gt;&lt;/p&gt;&#39;</span>
    <span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;slope&#39;</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;intercept&#39;</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;amplitude&#39;</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sigma&#39;</span><span class="p">])</span>
    <span class="n">popup_html</span><span class="o">+=</span><span class="sa">f</span><span class="s1">&#39;&lt;p&gt;&lt;input type=&quot;button&quot; value=&quot;Show plot&quot; onclick=&quot;plot_data(</span><span class="se">\&#39;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1">, </span><span class="si">{</span><span class="n">slope</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">intercept</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">sigma</span><span class="si">}</span><span class="s1">);&quot;/&gt;&lt;/p&gt;&#39;</span>
    <span class="c1">#popup_html+=f&#39;&lt;script&gt;plot_data(\&#39;{url}\&#39;, {slope}, {intercept}, {amplitude}, {sigma});&lt;/script&gt;&#39;</span>
    <span class="c1">#  &lt;input type=&quot;button&quot; value=&quot;Click me&quot; onclick=&quot;msg()&quot;&gt; </span>
    <span class="c1">#popup_html=&quot;&quot;&quot;&lt;h4&gt;&quot;&quot;&quot;+tooltip+&quot;&quot;&quot;&lt;/h4&gt;&quot;&quot;&quot;+date+&quot;&quot;&quot;&lt;p&gt;sounding_id: &quot;&quot;&quot;+sounding+&quot;&quot;&quot;&lt;/br&gt;orbit: &quot;&quot;&quot;+orbit+&quot;&quot;&quot;&lt;/p&gt;&quot;&quot;&quot;</span>

    <span class="n">popup</span><span class="o">=</span><span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">popup_html</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">450</span><span class="p">)</span>
    
    <span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">&quot;latitude&quot;</span><span class="p">],</span>
                                  <span class="n">row</span><span class="p">[</span><span class="s2">&quot;longitude&quot;</span><span class="p">]),</span>
                        <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                        <span class="n">tooltip</span><span class="o">=</span><span class="n">tooltip</span><span class="p">,</span>
                        <span class="n">popup</span><span class="o">=</span><span class="n">popup</span><span class="p">,</span>
                        <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">peaks_and_plants_dark</span><span class="p">)</span>

<span class="c1">#peaks_and_plants_dark</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;peaks_and_plants-graph-bco.html&#39;</span>
<span class="n">peaks_and_plants_dark</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="c1"># html_page = peaks_and_plants_dark.get_root().html</span>
<span class="c1"># print(html_page)</span>
<span class="c1"># len(html_page)</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">output_file</span><span class="p">),</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
<span class="n">script</span> <span class="o">=</span> <span class="s1">&#39;&lt;script src=&quot;https://cdn.plot.ly/plotly-latest.min.js&quot;&gt;&lt;/script&gt;&#39;</span>
<span class="n">temp_soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">script</span><span class="p">)</span>
<span class="n">new_tag</span> <span class="o">=</span> <span class="n">temp_soup</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">script</span>
<span class="n">soup</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">)</span>

<span class="n">my_js</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;script&gt;</span>
<span class="s1"> var trace1 = {</span>
<span class="s1">  x: [-100, 2, 3, +200],</span>
<span class="s1">  y: [10, 15, 13, 405],</span>
<span class="s1">  mode: &#39;markers&#39;,</span>
<span class="s1">  type: &#39;scatter&#39;</span>
<span class="s1">};</span>

<span class="s1">var trace2 = {</span>
<span class="s1">  x: [2, 3, 4, 5],</span>
<span class="s1">  y: [16, 5, 11, 9],</span>
<span class="s1">  mode: &#39;lines&#39;,</span>
<span class="s1">  type: &#39;scatter&#39;</span>
<span class="s1">};</span>

<span class="s1">var trace3 = {</span>
<span class="s1">  x: [1, 2, 3, 4],</span>
<span class="s1">  y: [12, 9, 15, 12],</span>
<span class="s1">  mode: &#39;lines+markers&#39;,</span>
<span class="s1">  type: &#39;scatter&#39;</span>
<span class="s1">};</span>

<span class="s1">var data = [trace1, trace2, trace3];</span>

<span class="s1">Plotly.newPlot(&#39;chartContainer&#39;, data);</span>

<span class="s1">    function gaussian(x, slope, intercept, amplitude, sigma){</span>
<span class="s1">        return slope * x + intercept + amplitude / (sigma * ((2 * Math.PI) ** 0.5)) * Math.exp((-(x ** 2)) / (2*(sigma ** 2)));</span>
<span class="s1">    }</span>

<span class="s1">    function co2Data(data, slope, intercept, amplitude, sigma) {</span>
<span class="s1">        console.log(&#39;co2Data&#39;, slope, intercept, amplitude, sigma);</span>
<span class="s1">        var x_tab = [];</span>
<span class="s1">        var y_tab = [];</span>
<span class="s1">        var y_gaussian = [];</span>
<span class="s1">        graphDiv = document.getElementById(&#39;chartContainer&#39;)</span>
<span class="s1">        for (var i = 0; i &lt; data.length; i++) {</span>
<span class="s1">            x_tab.push(data[i].distance)</span>
<span class="s1">            y_tab.push(data[i].xco2)</span>
<span class="s1">            y_gaussian.push(gaussian(data[i].distance, slope, intercept, amplitude, sigma))</span>
<span class="s1">        }</span>
<span class="s1">        var CO2dataPoints = {</span>
<span class="s1">            x: x_tab,</span>
<span class="s1">            y: y_tab,</span>
<span class="s1">            mode: &#39;markers&#39;,</span>
<span class="s1">            type: &#39;scatter&#39;</span>
<span class="s1">        };</span>
<span class="s1">        var gaussianDataPoints = {</span>
<span class="s1">            x: x_tab,</span>
<span class="s1">            y: y_gaussian,</span>
<span class="s1">            mode: &#39;lines&#39;,</span>
<span class="s1">            type: &#39;scatter&#39;</span>
<span class="s1">        };</span>
<span class="s1">        var layout = {</span>
<span class="s1">            title: &quot;Km&quot;, </span>
<span class="s1">            xaxis: {</span>
<span class="s1">                range: [-105, +105]</span>
<span class="s1">            },</span>
<span class="s1">            yaxis: {</span>
<span class="s1">                range: [398, 415]</span>
<span class="s1">            }</span>
<span class="s1">        };</span>
<span class="s1">    var data = [gaussianDataPoints, CO2dataPoints];</span>

<span class="s1">        Plotly.react(graphDiv, data, layout)</span>
<span class="s1">        console.log(&#39;leaving co2Data&#39;);</span>
<span class="s1">        //console.log(dataPoints)</span>
<span class="s1">    }</span>

<span class="s1">    function removeData(graphDiv) {</span>
<span class="s1">        //Plotly.deleteTraces(graphDiv, 0);</span>
<span class="s1">    }</span>
<span class="s1">    // Thanks to https://stackoverflow.com/questions/6129145/pass-extra-parameter-to-jquery-getjson-success-callback-function</span>
<span class="s1">    function createCallback(slope, intercept, amplitude, sigma) {</span>
<span class="s1">       return function(data) {</span>
<span class="s1">          co2Data(data, slope, intercept, amplitude, sigma);</span>
<span class="s1">          console.log(&#39;createCallback&#39;, slope, intercept, amplitude, sigma);</span>
<span class="s1">          // This reference to the `item` parameter does create a closure on it.</span>
<span class="s1">          // However, its scope means that no caller function can change its value.</span>
<span class="s1">          // Thus, since we don&#39;t change `item` anywhere inside `createCallback`, it</span>
<span class="s1">          // will have the value as it was at the time the createCallback function</span>
<span class="s1">          // was invoked.</span>
<span class="s1">       };</span>
<span class="s1">     }</span>

<span class="s1">    function plot_data(url, slope, intercept, amplitude, sigma) {</span>
<span class="s1">        //console.log(&#39;plot_data&#39;, slope, intercept, amplitude, sigma);</span>
<span class="s1">        graphDiv = document.getElementById(&#39;chartContainer&#39;)</span>
<span class="s1">        removeData(graphDiv);</span>
<span class="s1">        </span>
<span class="s1">        $.getJSON(url, createCallback(slope, intercept, amplitude, sigma));</span>
<span class="s1">        console.log(&#39;leaving plot_data&#39;);</span>
<span class="s1">    }</span>
<span class="s1">    plot_data(&#39;http://courty.fr/OCO2/peak_data-f_oco2_1808-o_22061-si_2018082505142132.json&#39;, 0.0009209859201556104, 400.95202483791405, 130.72568476723046, 13.712969744580016);</span>
<span class="s1">&lt;/script&gt;&#39;&#39;&#39;</span>
<span class="n">new_tag</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">my_js</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">script</span>
<span class="n">soup</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">)</span>

<span class="n">chart_div</span> <span class="o">=</span> <span class="s1">&#39;&lt;div id=&quot;chartContainer&quot; style=&quot;height: 370px; width: 100%;&quot;&gt;&lt;/div&gt;&#39;</span>
<span class="n">new_tag</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">chart_div</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">div</span>
<span class="n">soup</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;peak_map_with_graph.html&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">temp_soup</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">script</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">script</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

