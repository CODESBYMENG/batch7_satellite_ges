---

title: Open Stack Swift storage of the project

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/oco2peak-datasets.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Open-Stack-directories-structure-for-OCO-2">Open Stack directories structure for OCO-2<a class="anchor-link" href="#Open-Stack-directories-structure-for-OCO-2"> </a></h2><p>We do not store the original OCO-2 files from NASA.</p>
<ul>
<li>/datasets/oco-2/emissions/ contains all the potential source of emissions : factories, power plants, cities...</li>
<li>/datasets/oco-2/soudings/ contains CSV of the raw features extracted from NASA NC4 files.</li>
<li>/datasets/oco-2/peaks-detected/ contains all the peaks found in the satellite orbit datas.</li>
<li>/datasets/oco-2/peaks-detected-details/ contains one JSON file of the full data for all detected peak</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Module-Installation">Module Installation<a class="anchor-link" href="#Module-Installation"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="ch">#!pip install --user python-swiftclient python-keystoneclient --upgrade</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Class-Datasets">Class Datasets<a class="anchor-link" href="#Class-Datasets"> </a></h2><p>Using a config file for credentials</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Datasets" class="doc_header"><code>class</code> <code>Datasets</code><a href="https://github.com/trancept/batch7_satellite_ges/tree/master/oco2peak/datasets.py#L14" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Datasets</code>(<strong><code>config_file</code></strong>)</p>
</blockquote>
<p>Utility class to access the Open Stack Swift storage of the project.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Connection">Connection<a class="anchor-link" href="#Connection"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="s1">&#39;./configs/config.json&#39;</span>
<span class="n">datasets</span> <span class="o">=</span> <span class="n">Datasets</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Get-a-dataset">Get a dataset<a class="anchor-link" href="#Get-a-dataset"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Level-2-sounding-value-from-OCO-2-satellite">Level 2 sounding value from OCO-2 satellite<a class="anchor-link" href="#Level-2-sounding-value-from-OCO-2-satellite"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_files_urls</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="s1">&#39;141&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;/datasets/oco-2/soudings/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">(</span><span class="n">url</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//datasets/oco-2/soudings/oco2_1410.csv.bz2&#39;, &#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//datasets/oco-2/soudings/oco2_1411.csv.bz2&#39;, &#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//datasets/oco-2/soudings/oco2_1412.csv.bz2&#39;]
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>xco2</th>
      <th>xco2_uncert</th>
      <th>orbit</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
      <th>surface_pressure_apriori</th>
      <th>surface_pressure</th>
      <th>altitude</th>
      <th>land_water_indicator</th>
      <th>land_fraction</th>
      <th>tcwv</th>
      <th>tcwv_apriori</th>
      <th>tcwv_uncertainty</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2014100202182405</td>
      <td>-40.574512</td>
      <td>176.451126</td>
      <td>398.752686</td>
      <td>0.395292</td>
      <td>1337</td>
      <td>6.989320</td>
      <td>-5.809829</td>
      <td>978.123352</td>
      <td>974.571838</td>
      <td>179.613159</td>
      <td>0.0</td>
      <td>100.0</td>
      <td>10.485214</td>
      <td>14.339112</td>
      <td>0.067466</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2014100202182432</td>
      <td>-40.533489</td>
      <td>176.476425</td>
      <td>397.972046</td>
      <td>0.428197</td>
      <td>1337</td>
      <td>6.823709</td>
      <td>-5.639187</td>
      <td>976.780273</td>
      <td>972.596436</td>
      <td>191.665970</td>
      <td>0.0</td>
      <td>100.0</td>
      <td>9.183766</td>
      <td>14.187885</td>
      <td>0.066358</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2014100202182433</td>
      <td>-40.540665</td>
      <td>176.465958</td>
      <td>397.367462</td>
      <td>0.408428</td>
      <td>1337</td>
      <td>6.896306</td>
      <td>-5.694703</td>
      <td>964.528748</td>
      <td>963.135864</td>
      <td>298.211029</td>
      <td>0.0</td>
      <td>100.0</td>
      <td>8.928223</td>
      <td>13.654849</td>
      <td>0.064660</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="List-of-detected-peak">List of detected peak<a class="anchor-link" href="#List-of-detected-peak"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_files_urls</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;/datasets/oco-2/peaks-detected/&#39;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s1">&#39;result&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//datasets/oco-2/peaks-detected/result_for_oco2_1409.csv
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>orbit</th>
      <th>slope</th>
      <th>intercept</th>
      <th>amplitude</th>
      <th>sigma</th>
      <th>delta</th>
      <th>R</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
      <th>surface_pressure</th>
      <th>tcwv</th>
      <th>gCO2_per_s</th>
      <th>ktCO2_per_h</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2014090605011475</td>
      <td>-31.932890</td>
      <td>133.817032</td>
      <td>960</td>
      <td>-0.004587</td>
      <td>394.742035</td>
      <td>5.690958</td>
      <td>9.300781</td>
      <td>0.244105</td>
      <td>0.511300</td>
      <td>-3.204265</td>
      <td>-4.634799</td>
      <td>1005.223877</td>
      <td>8.682925</td>
      <td>382544.673873</td>
      <td>1.377161</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2014090605011533</td>
      <td>-31.880974</td>
      <td>133.827301</td>
      <td>960</td>
      <td>-0.004447</td>
      <td>394.740346</td>
      <td>3.242650</td>
      <td>9.322434</td>
      <td>0.138765</td>
      <td>0.538200</td>
      <td>-3.255919</td>
      <td>-4.609379</td>
      <td>1006.138855</td>
      <td>8.424060</td>
      <td>220272.427636</td>
      <td>0.792981</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2014090605020977</td>
      <td>-28.646854</td>
      <td>132.930969</td>
      <td>960</td>
      <td>0.003970</td>
      <td>395.016978</td>
      <td>2.381693</td>
      <td>16.881001</td>
      <td>0.056286</td>
      <td>0.525184</td>
      <td>-3.388911</td>
      <td>-2.603360</td>
      <td>987.990540</td>
      <td>10.468317</td>
      <td>143009.555556</td>
      <td>0.514834</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Level-2-sounding-value-for-a-peak">Level 2 sounding value for a peak<a class="anchor-link" href="#Level-2-sounding-value-for-a-peak"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
<span class="n">sounding_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sounding_id</span><span class="p">)</span>
<span class="n">sounding_id</span>
<span class="n">url</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_url_from_sounding_id</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sounding_id</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span><span class="o">=</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1138 entries, 0 to 1137
Data columns (total 16 columns):
 #   Column            Non-Null Count  Dtype  
---  ------            --------------  -----  
 0   sounding_id       1138 non-null   int64  
 1   latitude          1138 non-null   float64
 2   longitude         1138 non-null   float64
 3   orbit             1138 non-null   int64  
 4   slope             1138 non-null   float64
 5   intercept         1138 non-null   float64
 6   amplitude         1138 non-null   float64
 7   sigma             1138 non-null   float64
 8   delta             1138 non-null   float64
 9   R                 1138 non-null   float64
 10  windspeed_u       1138 non-null   float64
 11  windspeed_v       1138 non-null   float64
 12  surface_pressure  1138 non-null   float64
 13  tcwv              1138 non-null   float64
 14  gCO2_per_s        1138 non-null   float64
 15  ktCO2_per_h       1138 non-null   float64
dtypes: float64(14), int64(2)
memory usage: 142.4 KB
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>2014090605011475</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//datasets/oco-2/peaks-detected-details/peak_data-si_2014090605011475.json
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>orbit</th>
      <th>sounding_id</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>xco2</th>
      <th>xco2_uncert</th>
      <th>windspeed_u</th>
      <th>windspeed_v</th>
      <th>surface_pressure_apriori</th>
      <th>surface_pressure</th>
      <th>altitude</th>
      <th>land_water_indicator</th>
      <th>land_fraction</th>
      <th>tcwv</th>
      <th>tcwv_apriori</th>
      <th>tcwv_uncertainty</th>
      <th>latitude_orig</th>
      <th>longitude_orig</th>
      <th>distance</th>
      <th>xco2_enhancement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>960</td>
      <td>2014090605010101</td>
      <td>-32.727406</td>
      <td>134.080856</td>
      <td>397.196472</td>
      <td>0.415720</td>
      <td>-2.145389</td>
      <td>-3.313407</td>
      <td>1011.450745</td>
      <td>1007.325317</td>
      <td>72.918121</td>
      <td>3</td>
      <td>93</td>
      <td>9.635459</td>
      <td>8.897162</td>
      <td>0.032530</td>
      <td>-32.906963</td>
      <td>134.130478</td>
      <td>-91.681727</td>
      <td>2.610016</td>
    </tr>
    <tr>
      <th>1</th>
      <td>960</td>
      <td>2014090605010534</td>
      <td>-32.485806</td>
      <td>133.978790</td>
      <td>396.806854</td>
      <td>0.352010</td>
      <td>-2.325659</td>
      <td>-3.597546</td>
      <td>1018.768433</td>
      <td>1016.415466</td>
      <td>8.619250</td>
      <td>0</td>
      <td>100</td>
      <td>10.166079</td>
      <td>9.066277</td>
      <td>0.026381</td>
      <td>-32.906963</td>
      <td>134.130478</td>
      <td>-63.262445</td>
      <td>2.220398</td>
    </tr>
    <tr>
      <th>2</th>
      <td>960</td>
      <td>2014090605010533</td>
      <td>-32.479725</td>
      <td>133.989441</td>
      <td>396.487305</td>
      <td>0.380758</td>
      <td>-2.340547</td>
      <td>-3.616978</td>
      <td>1019.266541</td>
      <td>1015.119263</td>
      <td>4.366264</td>
      <td>0</td>
      <td>100</td>
      <td>10.172779</td>
      <td>9.041010</td>
      <td>0.028613</td>
      <td>-32.906963</td>
      <td>134.130478</td>
      <td>-62.891171</td>
      <td>1.900848</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Get-containers-names">Get containers names<a class="anchor-link" href="#Get-containers-names"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">datasets</span><span class="o">.</span><span class="n">get_containers</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Container name:&#39;</span><span class="p">,</span> <span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Container name: oco2
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="List-files">List files<a class="anchor-link" href="#List-files"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasets</span><span class="o">.</span><span class="n">get_files_urls</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;/map/&#39;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s1">&#39;html&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//map/peaks_and_sources.html&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Get-files-objects">Get files objects<a class="anchor-link" href="#Get-files-objects"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">objects</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">get_container</span><span class="p">(</span><span class="s1">&#39;oco2&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;/datasets/oco-2/peaks-detected/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Number of file : </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;oco2_1504&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="se">\t</span><span class="si">{1}</span><span class="se">\t</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;bytes&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;last_modified&#39;</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of file : 67
/datasets/oco-2/peaks-detected/result_for_oco2_1504.csv	390108	2020-05-29T06:23:55.127490
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Upload-files">Upload files<a class="anchor-link" href="#Upload-files"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasets</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="s1">&#39;../*.md&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;/Trash/&quot;</span><span class="p">,</span><span class="n">content_type</span><span class="o">=</span><span class="s1">&#39;text/text&#39;</span><span class="p">)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/csv/*.csv&quot;, &quot;/datasets/oco-2/peaks-detected/&quot;, &#39;text/csv&#39;)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/csv/*.json&quot;, &quot;/datasets/oco-2/peaks-detected-details/&quot;, &#39;application/json&#39;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='1' class='' max='1', style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [1/1 00:00<00:00]
    </div>
    


    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='3' class='' max='3', style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [3/3 00:00<00:00]
    </div>
    
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasets</span><span class="o">.</span><span class="n">get_files_urls</span><span class="p">(</span><span class="s1">&#39;/Trash/&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//Trash/CONTRIBUTING.md&#39;,
 &#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//Trash/README-old.md&#39;,
 &#39;https://storage.gra.cloud.ovh.net/v1/AUTH_2aaacef8e88a4ca897bb93b984bd04dd/oco2//Trash/README.md&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Upload-HTML">Upload HTML<a class="anchor-link" href="#Upload-HTML"> </a></h3><p>Setting content type to 'text/html' allow the file to be display by browsers, without downloading.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#datasets.upload(&quot;chemin/peaks_and_sources.html&quot;, &quot;/Trash/&quot;, &#39;text/html&#39;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Delete-files">Delete files<a class="anchor-link" href="#Delete-files"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datasets</span><span class="o">.</span><span class="n">delete_files</span><span class="p">(</span><span class="s2">&quot;/Trash/&quot;</span><span class="p">,</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='1' class='' max='1', style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [1/1 00:00<00:00]
    </div>
    


    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='3' class='' max='3', style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.00% [3/3 00:00<00:00]
    </div>
    
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="n">notebook2script</span>
<span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 03_25_OCO2_Data_Exploration.ipynb.
Converted 04_01_OCO2_Work_Base.ipynb.
Converted 04_04_OCO2_China_Peaks.ipynb.
Converted 04_15_OCO2_Laiwu_Peak_Detection.ipynb.
Converted CO2_emissions_Inventory_data.ipynb.
Converted Christian-datasets-Distances.ipynb.
Converted Find_Peaks_with_LSTM_autoencoders.ipynb.
Converted Laiwu_Plume-more_data.ipynb.
Converted Laiwu_Plume-more_data_CD_exploration_selection_peaks.ipynb.
Converted Laiwu_Plume.ipynb.
Converted Untitled1.ipynb.
Converted WIP_OCO2_Capture.ipynb.
Converted WIP_OCO2_Peaks_Wind.ipynb.
Converted WIP_OCO2_Peaks_Wind_Visualization.ipynb.
Converted bco_playground.ipynb.
Converted find_peak_bco_test.ipynb.
Converted index.ipynb.
Converted oco2peak-datasets.ipynb.
Converted oco2peak-find_peak.ipynb.
Converted oco2peak-map.ipynb.
Converted oco2peak-nc4_convert.ipynb.
Converted oco2peak-swift_utils.ipynb.
Converted oco2peak_find_source.ipynb.
Converted show_map.ipynb.
Converted view_peak.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># # Re-upload raw NC4 data</span>
<span class="c1"># datasets.delete_files(prefix=&quot;/datasets/oco-2/soudings/&quot;, dry_run=False)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/csv-v10/*.bz2&quot;, &quot;/datasets/oco-2/soudings/&quot;, &#39;text/csv&#39;)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/csv-v9/*.bz2&quot;, &quot;/datasets/oco-2/soudings/&quot;, &#39;text/csv&#39;)</span>

<span class="c1"># # Re-upload all peaks</span>
<span class="c1"># datasets.delete_files(prefix=&quot;/datasets/oco-2/peaks-detected/&quot;, dry_run=False)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/peaks-v9/*.csv&quot;, &quot;/datasets/oco-2/peaks-detected/&quot;, &#39;text/csv&#39;)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/peaks-v10/*.csv&quot;, &quot;/datasets/oco-2/peaks-detected/&quot;, &#39;text/csv&#39;)</span>

<span class="c1"># # Re-upload all JSON</span>
<span class="c1"># datasets.delete_files(prefix=&quot;/datasets/oco-2/peaks-detected-details/&quot;, dry_run=False)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/peaks-v9/*.json&quot;, &quot;/datasets/oco-2/peaks-detected-details/&quot;, &#39;application/json&#39;)</span>
<span class="c1"># datasets.upload(&quot;/media/data-nvme/dev/datasets/OCO2/peaks-v10/*.json&quot;, &quot;/datasets/oco-2/peaks-detected-details/&quot;, &#39;application/json&#39;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

